#N canvas 0 22 1265 694 12;
#X declare -lib mrpeach;
#X obj -487 -139 unpackOSC;
#X obj -583 -192 import mrpeach;
#X text 177 -38 performer head horizontal orientation;
#X obj -41 -126 mod 360;
#X floatatom 197 84 5 0 0 0 - - -;
#X obj 197 188 difference;
#X msg -624 503 devices;
#X msg -624 481 close;
#X obj -546 498 arduino 1 9600;
#X obj -41 -101 s sim_performer;
#X obj 197 57 r sim_performer;
#X text 222 -73 android on performer body;
#X obj -487 -161 udpreceive 8015;
#X text -361 -162 oculus;
#X text -531 -94 pitch;
#X floatatom 355 189 5 0 0 0 - - -;
#X obj 215 106 r adjust_ceiling;
#X obj 197 135 -;
#X floatatom 197 160 5 0 0 0 - - -;
#X text 189 33 inhibit yaw if pitch between -70 70;
#X obj 204 283 inhibit_yaw;
#X floatatom 155 241 5 0 0 0 - - -;
#X floatatom -765 24 5 0 0 0 - - -;
#X obj -487 -117 routeOSC /headtracking;
#X obj -487 -94 unpack f f f f;
#X floatatom 182 -73 5 0 0 0 - - -;
#X text -766 -3 roll;
#X obj 181 -52 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X msg -623 526 open 3;
#X obj -331 236 smooth;
#X obj -748 209 smooth;
#X floatatom -425 200 5 0 0 0 - - -;
#X msg -425 173 0.15;
#X msg -560 304 analog 6 \$1;
#X msg -342 310 analog 5 \$1;
#X obj -546 235 smooth;
#X text 184 -52 comment;
#X text -572 133 yaw;
#X text -568 1 pitch;
#X msg -759 302 analog 7 \$1;
#X text -435 497 performer arduino runs at 9600 bauds/s;
#X text -529 151 HORIZONTAL;
#X text -764 147 ROLL;
#X floatatom -567 23 5 0 0 0 - - -;
#X text 8 -144 Use to align ceiling camera with user;
#X text -347 150 pitch;
#X text -351 0 yaw;
#X obj -688 96 s pitch;
#X obj 352 139 r pitch;
#X text -214 352 define speedlim;
#X text -304 146 VERTICAL;
#X obj -347 174 map -1.7 1.7 2 8.5;
#X obj -757 270 hsl 128 15 2.2 8.5 0 0 empty empty empty -2 -8 0 10
-257985 -1 -1 4914 1;
#X obj -560 263 hsl 128 15 2.2 9 0 0 empty empty empty -2 -8 0 10 -204800
-1 -1 4876 1;
#X obj -346 275 hsl 128 15 2.2 8.5 0 0 empty empty empty -2 -8 0 10
-257985 -1 -1 12700 1;
#X floatatom -340 41 5 0 0 0 - - -;
#X floatatom -568 73 5 0 0 0 - - -;
#X obj -568 46 * 2;
#X obj -562 280 hsl 128 15 2.2 8.5 0 0 empty empty empty -2 -8 0 10
-257985 -1 -1 6421 1;
#X obj -748 459 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -730 459 loadbang;
#X obj -749 511 s center;
#X floatatom -190 216 5 0 0 0 - - -;
#X floatatom -471 187 5 0 0 0 - - -;
#X floatatom -625 190 5 0 0 0 - - -;
#X msg -748 483 5;
#X text -429 221 define smooth;
#X obj -565 170 map -3 3 9 2;
#X obj -117 299 loadbang;
#X msg -115 321 60;
#X obj -764 170 map -1.4 1.4 2 8.5;
#X obj 351 168 map 180 -180 0 360;
#X obj -713 46 map 6 -6 -180 180;
#X text -504 71 adjust head movement to a 180o range (instead of default
360);
#X text -205 137 comment;
#X text -210 159 map values to Servo Range miniservo (2.5 8.5 // 2.5-9
for pitch);
#X floatatom -222 241 5 0 0 0 - - -;
#X msg -77 238 5.25;
#X msg -117 233 5.6;
#X obj -552 353 speedlim 60;
#X obj -340 356 speedlim 60;
#X obj -753 341 speedlim 60;
#X obj -512 17 hsl 128 15 -3 3 0 0 empty empty empty -2 -8 0 10 -257985
-1 -1 6975 1;
#X obj -111 -284 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 197 212 map 90 -90 8.5 2.2;
#X floatatom -109 -139 5 0 0 0 - - -;
#X obj -106 -168 hsl 128 15 0 360 0 0 empty empty empty -2 -8 0 10
-257985 -1 -1 6919 1;
#X obj -69 197 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text -37 196 centrar servos para reparación;
#X text -141 -241 (deben estar funcionando las oculus para que funcione)
;
#X text -140 -264 Botón Calibrar;
#N canvas 0 22 1440 818 botonCalibrar 0;
#X obj 330 17 inlet;
#X obj 330 59 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 497 20 inlet;
#X obj 256 131 spigot;
#X msg 323 111 1;
#X msg 363 128 0;
#X obj 283 238 hsl 128 15 0 360 0 0 empty empty empty -2 -8 0 10 -257985
-1 -1 6975 1;
#X obj 285 179 map -3 3 0 360;
#X obj 451 356 outlet;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 0 6 0;
#X connect 1 0 5 0;
#X connect 2 0 7 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 3 0;
#X connect 7 0 6 0;
#X restore -271 -171 pd botonCalibrar;
#N canvas 0 22 1345 686 calibrarCompass 0;
#X floatatom 519 -148 5 0 0 0 - - -;
#X floatatom 310 180 5 0 0 0 - - -;
#X floatatom 477 40 5 0 0 0 - - -;
#X floatatom 481 103 5 0 0 0 - - -;
#X obj 481 72 spigot;
#X msg 553 -3 1;
#X msg 553 23 0;
#X obj 514 -34 t b b b;
#X floatatom 399 198 5 0 0 0 - - -;
#X obj 346 223 spigot;
#X obj 402 154 >;
#X obj 694 158 <;
#X floatatom 741 169 5 0 0 0 - - -;
#X obj 708 217 spigot;
#X floatatom 752 262 5 0 0 0 - - -;
#X obj 328 428 hsl 128 15 0 360 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 33 1;
#X floatatom 347 261 5 0 0 0 - - -;
#X msg 696 307 360;
#X obj 722 338 -;
#X obj 737 365 +;
#X floatatom 737 392 5 0 0 0 - - -;
#X floatatom 688 392 5 0 0 0 - - -;
#X obj 696 278 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 810 420 < 360;
#X floatatom 790 463 5 0 0 0 - - -;
#X obj 737 488 spigot;
#X floatatom 738 516 5 0 0 0 - - -;
#X obj 328 458 hsl 128 15 0 360 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 6919 1;
#X obj 104 358 hsl 128 15 0 360 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 6919 1;
#X obj 384 315 > 0;
#X floatatom 400 341 5 0 0 0 - - -;
#X obj 348 374 spigot;
#X floatatom 296 390 5 0 0 0 - - -;
#X floatatom 120 394 5 0 0 0 - - -;
#X obj 95 443 outlet;
#X obj 519 -182 inlet;
#X obj 95 -79 inlet;
#X msg 95 213 0;
#X obj 346 308 -;
#X obj 692 -153 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 552 -159 Calibrar Norte a 0;
#X connect 0 0 2 0;
#X connect 0 0 11 0;
#X connect 0 0 13 0;
#X connect 0 0 10 0;
#X connect 0 0 1 0;
#X connect 1 0 9 0;
#X connect 2 0 4 0;
#X connect 3 0 11 1;
#X connect 3 0 18 1;
#X connect 3 0 10 1;
#X connect 3 0 38 1;
#X connect 4 0 3 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 6 0;
#X connect 7 1 2 0;
#X connect 7 2 5 0;
#X connect 8 0 9 1;
#X connect 9 0 16 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 13 1;
#X connect 13 0 14 0;
#X connect 14 0 19 1;
#X connect 14 0 22 0;
#X connect 15 0 28 0;
#X connect 16 0 29 0;
#X connect 16 0 38 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 0 21 0;
#X connect 19 0 20 0;
#X connect 20 0 23 0;
#X connect 20 0 25 0;
#X connect 22 0 17 0;
#X connect 23 0 24 0;
#X connect 24 0 25 1;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 33 0;
#X connect 28 0 34 0;
#X connect 29 0 30 0;
#X connect 30 0 31 1;
#X connect 31 0 15 0;
#X connect 31 0 32 0;
#X connect 35 0 0 0;
#X connect 35 0 37 0;
#X connect 35 0 7 0;
#X connect 36 0 0 0;
#X connect 37 0 34 0;
#X connect 38 0 31 0;
#X connect 39 0 7 0;
#X restore 332 -2 pd calibrarCompass;
#X obj 328 -252 unpackOSC;
#X floatatom 323 -144 5 0 0 0 - - -;
#X obj 324 -215 routeOSC /gyrosc;
#X obj 324 -192 routeOSC /comp;
#X obj 324 -168 unpack f;
#X obj 337 -280 udpreceive 7777;
#X obj 308 -93 hsl 128 15 0 360 0 0 empty empty empty -2 -8 0 10 -257985
-1 -1 5005 1;
#X obj 338 -118 map 0 360 360 0;
#X obj -75 -285 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -114 -344 t b b;
#X obj -209 -267 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -111 -315 delay 200;
#X obj 112 -19 spigot;
#X obj 94 -312 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 122 -318 Activar/Desactivar movil cuerpo;
#X connect 0 0 23 0;
#X connect 3 0 9 0;
#X connect 4 0 17 0;
#X connect 5 0 84 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 10 0 4 0;
#X connect 12 0 0 0;
#X connect 16 0 17 1;
#X connect 17 0 18 0;
#X connect 18 0 5 0;
#X connect 20 0 58 0;
#X connect 22 0 70 0;
#X connect 23 0 24 0;
#X connect 24 0 22 0;
#X connect 24 1 43 0;
#X connect 24 2 55 0;
#X connect 24 3 25 0;
#X connect 25 0 27 0;
#X connect 28 0 8 0;
#X connect 31 0 30 1;
#X connect 31 0 35 1;
#X connect 31 0 29 1;
#X connect 32 0 31 0;
#X connect 33 0 79 0;
#X connect 34 0 80 0;
#X connect 39 0 81 0;
#X connect 43 0 57 0;
#X connect 43 0 82 0;
#X connect 48 0 71 0;
#X connect 51 0 29 0;
#X connect 51 0 62 0;
#X connect 51 0 54 0;
#X connect 52 0 39 0;
#X connect 53 0 20 1;
#X connect 54 0 34 0;
#X connect 55 0 51 0;
#X connect 56 0 67 0;
#X connect 56 0 72 0;
#X connect 57 0 56 0;
#X connect 58 0 33 0;
#X connect 59 0 65 0;
#X connect 60 0 65 0;
#X connect 65 0 61 0;
#X connect 67 0 35 0;
#X connect 67 0 63 0;
#X connect 67 0 53 0;
#X connect 68 0 69 0;
#X connect 69 0 79 1;
#X connect 69 0 80 1;
#X connect 69 0 81 1;
#X connect 70 0 30 0;
#X connect 70 0 64 0;
#X connect 70 0 52 0;
#X connect 71 0 15 0;
#X connect 71 0 5 1;
#X connect 72 0 47 0;
#X connect 77 0 54 0;
#X connect 77 0 52 0;
#X connect 78 0 53 0;
#X connect 79 0 8 0;
#X connect 80 0 8 0;
#X connect 81 0 8 0;
#X connect 82 0 91 1;
#X connect 83 0 91 0;
#X connect 84 0 21 0;
#X connect 84 0 20 0;
#X connect 86 0 85 0;
#X connect 86 0 3 0;
#X connect 87 0 78 0;
#X connect 87 0 77 0;
#X connect 91 0 86 0;
#X connect 92 0 105 0;
#X connect 93 0 95 0;
#X connect 94 0 100 0;
#X connect 95 0 96 0;
#X connect 96 0 97 0;
#X connect 97 0 94 0;
#X connect 98 0 93 0;
#X connect 99 0 92 0;
#X connect 100 0 99 0;
#X connect 101 0 92 1;
#X connect 102 0 104 0;
#X connect 102 1 101 0;
#X connect 103 0 102 0;
#X connect 104 0 83 0;
#X connect 105 0 86 0;
#X connect 106 0 105 1;
